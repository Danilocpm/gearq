<!DOCTYPE html>
<html lang="pt-br">
<head>
    <title>Criar Item</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="/createitem.css">
    <link href="https://cdn.jsdelivr.net/npm/sweetalert2@11.10.7/dist/sweetalert2.min.css" rel="stylesheet">

</head>
<body>

<div class="container">
  <div class="row justify-content-center">
    <h2 class="text-center">Criar Item</h2>
    <form action="/createitem" method="POST" style="margin: 50px 0;">
        <div class="form-group">
            <label for="nome">Nome:</label>
            <input type="text" class="form-control" id="nome" placeholder="Digite o nome do item" name="nome">
        </div>

        <div class="form-group">
            <label for="descricao">Descrição:</label>
            <textarea class="form-control" id="descricao" placeholder="Digite a descrição do item" name="descricao"></textarea>
        </div>

        <div class="form-group">
          <label for="portas">Portas:</label>
          <input type="text" class="form-control" id="portas" placeholder="Digite o número de portas" name="portas">
        </div>

        <div class="form-group">
          <label for="tipos_de_portas">Tipos de Portas:</label>
          <input type="text" class="form-control" id="tipos_de_portas" placeholder="Digite os tipos de portas" name="tipos_de_portas">
        </div>

        <div class="form-group">
          <label for="portas_adicionais">Portais Adicionais:</label>
          <input type="text" class="form-control" id="portas_adicionais" placeholder="Alguma Porta Adicional?" name="portas_adicionais">
        </div>

        <div class="form-group">
          <label for="tipos_de_portas_adicionais">Tipos de Portas Adicionais:</label>
          <input type="text" class="form-control" id="tipos_de_portas_adicionais" placeholder="Digite os tipos de portas" name="tipos_de_portas_adicionais">
        </div>

        <div class="form-group">
          <label for="protocolos">Protocolos:</label>
          <input type="text" class="form-control" id="protocolos" placeholder="Digite os Protocolos" name="protocolos">
        </div>

        <div class="form-group">
          <label for="altura">Altura:</label>
          <input type="text" class="form-control" id="altura" placeholder="Digite a Altura" name="altura">
        </div>

        <div class="form-group">
          <label for="largura">Largura:</label>
          <input type="text" class="form-control" id="largura" placeholder="Digite a Largura" name="largura">
        </div>

        <div class="form-group">
          <label for="memoria">Memoria:</label>
          <input type="text" class="form-control" id="memoria" placeholder="Digite a memoria" name="memoria">
        </div>

        <div class="form-group">
          <label for="processador">Processador:</label>
          <input type="text" class="form-control" id="processador" placeholder="Digite o tipo de processador" name="processador">
        </div>

        <div class="form-group">
          <label for="MAC">Memoria:</label>
          <input type="text" class="form-control" id="MAC" placeholder="Digite o MAC" name="MAC">
        </div>
        
        <div class="form-group">
          <label for="performance">Performance:</label>
          <input type="text" class="form-control" id="performance" placeholder="Qual a sua performance?" name="performance">
        </div>

        <div class="form-group">
          <label for="Capacidade_de_encaminhamento">Capacidade de Encaminhamento:</label>
          <input type="text" class="form-control" id="Capacidade_de_encaminhamento" placeholder="Digite a Capacidade de Encaminhamento" name="Capacidade_de_encaminhamento">
        </div>

        <div class="form-group">
          <label for="capacidade_de_computacao">Capacidade de Computacao:</label>
          <input type="text" class="form-control" id="capacidade_de_computacao" placeholder="Digite a Capacidade de Computacao" name="capacidade_de_computacao">
        </div>

        <div class="form-group">
          <label for="Frequência">Frequencia:</label>
          <input type="text" class="form-control" id="Frequência" placeholder="Digite a Frequência" name="Frequência">
        </div>

        <div class="form-group">
          <label for="watts">Watts:</label>
          <input type="text" class="form-control" id="watts" placeholder="Digite a Voltagem" name="watts">
        </div>

        <!-- Adicione mais campos conforme necessário -->
        <button type="submit" class="btn btn-default">Enviar</button>
        <button type="button" class="btn btn-secondary" onclick="window.history.back('/menu');">Voltar</button>

      </div>
    </form>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.10.7/dist/sweetalert2.all.min.js"></script>
<script src="scr/index.js"></script>


<script>document.querySelector('form').addEventListener('submit', function(event) {
  // Isso impede que o formulário seja enviado normalmente
  event.preventDefault();

  let itemData = {
    nome: document.getElementById('nome').value,
    descricao: document.getElementById('descricao').value,
    portas: document.getElementById('portas').value,
    tipos_de_portas: document.getElementById('tipos_de_portas').value,
    portas_adicionais: document.getElementById('portas_adicionais').value,
    tipos_de_portas_adicionais: document.getElementById('tipos_de_portas_adicionais').value,
    protocolos: document.getElementById('protocolos').value,
    altura: document.getElementById('altura').value,
    largura: document.getElementById('largura').value,
    memoria: document.getElementById('memoria').value,
    processador: document.getElementById('processador').value,
    MAC: document.getElementById('MAC').value,
    performance: document.getElementById('performance').value,
    Capacidade_de_encaminhamento: document.getElementById('Capacidade_de_encaminhamento').value,
    capacidade_de_computacao: document.getElementById('capacidade_de_computacao').value,
    Frequência: document.getElementById('Frequência').value,
    watts: document.getElementById('watts').value
  };

  fetch('/createitem', {
      method: 'POST',
      headers: {
          'Content-Type': 'application/json',
      },
      body: JSON.stringify(itemData),
  })
  .then(response => {
      if (!response.ok) {
          throw new Error('Erro na rede!');
      }
      return response.json();
  })
  .then(data => {
      Swal.fire({
          icon: 'success',
          title: 'Sucesso',
          text: data.message
      });
  })
  .catch((error) => {
      Swal.fire({
          icon: 'error',
          title: 'Erro na criação',
          text: error.message
      });
      console.error('Error:', error);
  });
});
</script>

</body>
</html>

